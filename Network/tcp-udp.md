## 💡 TCP (Transmission Control Protocol)
TCP는 네트워크 계층 중 전송 계층에서 사용하는 프로토콜로, 장치들 사이에 접속을 위하여 연결을 설정하여 신뢰성을 보장하는 연결형 서비스다.
기본적으로 tcp와 ip를 함께 사용하는데 ip가 데이터의 전송을 처리한다면, tcp는 패킷 추적 및 관리를 수행한다.

### 1. tcp의 특징
- 연결형 서비스로 가상 회선방식을 사용한다.
  - 가상회선방식 : 데이터를 전송하기 전에 논리적 연결이 설정되는데 이를 가상회선이라 한다. 각 패킷에는 가상회선 식별번호(VCI)가 포함되고
모든 패킷이 전송되면 가상회선이 해제되고 패킷들은 전송된 순서대로 도착한다.

- 데이터의 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지한다.
- 송신하는 곳에서 감당이 안되게 많은 데이터를 빠르게 보낼때, 수신하는 곳에서 문제가 일어나는 것을 막는다.
- 수신자가 윈도우 크기값을 통해 수신량을 정할 수 있다.


- 네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지한다.
- 정보의 소통량이 과다하다면 패킷을 조금만 전송하여 혼잡 붕괴 현상이 일어나는 것을 막는다.


- 신뢰성이 높은 전송
  - ACK 값이 중복으로 들어올 경우 패킷 이상을 감지하고 재전송을 요청한다.
  - 일정시간 동안 ACK 값을 수신하지 못할 경우 재전송을 요청한다.

- 전이중, 점대점 방식
  - 전이중 : 전송이 양방향에서 동시에 일어날 수 있다.
  - 점대점 : 각 연결이 정확히 2개의 종단점을 가지고 있다.

### 2. tcp의 header 정보
- 송수신자의 포트 번호 : 송수신 프로세스에 할당되는 포트 번호
- 데이터 오프셋 : TCP 세그먼트의 시작 위치를 기준으로 데이터의 시작 위치를 표현
- 시퀀스 번호 : 송신자가 지정하는 순서 번호. 전송되는 바이트 수를 기준으로 증가
- 응답 번호(ACK) : 수신 프로세스가 제대로 수신한 바이트의 수를 응답하기 위해 사용
- 예약 필드 : 사용을 하지 않지만 나중을 위한 예약 필드이며 0으로 채워져야 한다.
- 제어 비트 : SYN, ACK, FIN 등의 제어 번호
- 윈도우 크기 : 수신 윈도우의 버퍼 크기를 결정할 때 사용. 0이면 송신 프로세스의 전송 중지
- 체크섬 : TCP 세그먼트에 포함되는 프로토콜 헤더와 데이터에 대한 오류 검출 용도

### 3. TCP Connection(3-way handshake)
tcp 통신을 이용하여 데이터를 전송하기 위해 네트워크 연결을 설정하는 과정

1. 먼저 open()을 실행한 클라이언트가 SYN을 보내고 SYN_SENT 상태로 대기한다.
2. 서버는 SYN_RCVD 상태로 바꾸고 SYN과 ACK을 보낸다.
3. 응답을 받은 클라이언트는 ESTABLISHED  상태로 변경하고 서버에 ACK을 보낸다.
4. ACK을 받은 서버는 ESTABLISHED 상태로 변경한다.

### 4. TCP Disconnection(4-way handshake)


1. 먼저 open()을 실행한 클라이언트가 FIN flag를 보내고 FIN_WAIT1 상태로 대기한다.
2. 서버는 CLOSE_WAIT 상태로 바꾸고 ACK을 전달한다. 동시에 해당 포트에 연결되어 있는 어플리케이션에 close()를 호출한다.
3. ACK을 받은 클라이언트는 상태를 FIN_WAIT2로 바꾼다.
4. close() 요청을 받은 서버 어플리케이션은 종료 프로세스를 진행하고 FIN을 클라이언트에 보내 LAST_ACK 상태로 바꾼다.
5. FIN을 받은 클라이언트는 ACK을 서버에 다시 전송하고 TIME_WAIT 상태로 변경한다. 여기서 일정시간이 지나면 CLOSED가 된다. 

-----
</br>

## 💡 UDP (User Datagram Protocol)
UDP는 네트워크 계층 중 전송 계층에서 사용하는 프로토콜로, 장치들 사이에 접속을 위하여 연결을 설정하여 신뢰성보다는 연속성이 중요한 비연결형 서비스이다.
여기서 데이터그램은 독립적인 관계를 나타내는 패킷을 뜻한다.

### 1. UDP 특징
- 비연결형 서비스로 데이터그램 방식을 제공한다.
- 정보를 주고 받을 때, 정보를 보내거나 받는다는 신호절차를 거치지 않는다.
- UDP 헤더의 체크섬 필드를 통해 최소한의 오류만 검출한다.
- 신뢰성이 낮다.
- TCP보다 속도가 빠르다.

UDP는 비연결형 서비스이기 때문에 연결을 설정하고 해제하는 과정이 없다. 서로 다른 경로로 독립적으로 처리함에도 
패킷에 순서를 부여하여 재조립하거나 흐름제어, 혼잡제어와 같은 기능도 처리하지 않기 때문에 속도가 빠르며 네트워크 부하가 적다는 장점이 있지만, 신뢰성있는 데이터의 전송을 보장하지 못한다.
그렇기 때문에 신뢰성보다는 연속성이 중요한 실시간 서비스 등에 주로 사용된다.

### 2. UDP 헤더정보
- 송수신자의 포트 번호 : 데이터를 보내고 받는 애플리케이션의 포트 번호
- 데이터의 길이 : UDP 헤더와 데이터의 총 길이
- 체크섬 : 데이터 오류 검사에 사용



-----
</br>
